# 实时视频监控系统 - 快速入门指南

本指南将帮助您快速启动和使用实时视频监控系统。

## 系统要求

- Python 3.8+
- Node.js 14+
- npm 6+
- OpenCV 依赖库
- 足够运行机器学习模型的计算资源

## 一键启动（推荐）

最简单的方法是使用提供的启动脚本：

```bash
# 在项目根目录下
./start.bat  # Windows系统
```

此脚本将自动启动后端API和前端服务。完成后，在浏览器中访问：http://localhost:5173

## 手动启动

如果您需要单独控制每个组件，可以手动启动：

### 1. 启动后端API

```bash
# 激活conda环境
conda activate object_detection

# 启动后端
cd backend
python app.py
```

后端API将在 http://localhost:5000/api 上运行。

### 2. 启动前端应用

```bash
# 进入前端项目目录
cd frontend/realtime-monitor-fronted

# 安装依赖（首次运行）
npm install

# 启动开发服务器
npm run dev
```

前端应用将在 http://localhost:5173 上运行。

## 使用指南

### 1. 选择视频源

您可以选择以下视频源：
- **摄像头**：直接从计算机摄像头获取实时视频流
- **上传视频**：上传本地MP4视频文件进行分析
- **上传图片**：上传JPG图片进行分析

### 2. 设置危险区域

1. 点击控制面板中的"编辑区域"按钮
2. 在视频画面上拖动区域点以调整危险区域形状
3. 完成后点击"保存区域"

### 3. 调整参数

- **安全距离**：调整滑块设置目标与危险区域之间的安全距离（以像素为单位）
- **警报阈值**：调整滑块设置目标在危险区域内停留多长时间后触发警报（以秒为单位）
- 完成后点击"应用设置"按钮

### 4. 查看告警

系统会自动检测并在控制面板的"告警信息"部分显示：
- 有物体进入危险区域并停留超过阈值时间
- 有物体接近危险区域，距离小于安全距离

## 常见问题

### Q: 视频流无法显示

**A**: 可能的解决方案：
- 确保摄像头未被其他应用占用
- 检查浏览器是否允许访问摄像头
- 确保后端服务正常运行

### Q: 上传视频很慢

**A**: 处理视频需要大量计算资源，尤其是高分辨率视频。尝试使用较小尺寸的视频。

### Q: 危险区域编辑不工作

**A**: 确保您点击了"编辑区域"按钮进入编辑模式。如果仍有问题，尝试刷新页面。

## 下一步

- 查看 [README.md](README.md) 了解更多系统详情
- 查看 [MIGRATION_GUIDE.md](MIGRATION_GUIDE.md) 了解从旧版本迁移的信息

## 支持

如需技术支持或报告问题，请通过GitHub Issues与我们联系。 